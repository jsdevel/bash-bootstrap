#!/bin/bash

set -e

command -v ctags > /dev/null || {
  echo "You must install ctags first!" >&2
  exit 1
}

excludeArgs=''
if [[ -f .gitignore ]]; then
  for entry in `cat .gitignore`;do
    excludeArgs="$excludeArgs --exclude='$entry'"
  done
fi

if [[ -f .tags ]]; then
  rm .tags
fi

ctags $excludeArgs -f .tags ./**/*
